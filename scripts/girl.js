let mydata = [
  {
    "id": 1,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/8690390a.webp",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1319
  },

  {
    "id": 2,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/8691290a.webp",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1322
  },

  {
    "id": 3,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/8514026a.webp",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 850
  },

  {
    "id": 4,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12714685a.webp",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1044
  },

  {
    "id": 5,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12954294a.webp",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 599
  },

  {
    "id": 6,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12813070a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 350
  },
  {
    "id": 7,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/9210264a.webp",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 520
  },

  {
    "id": 8,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/9836825a.webp",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 422
  },

  {
    "id": 9,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/3384101b.jpg",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 550
  },

  {
    "id": 10,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/9694182b.jpg",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 449
  },
  {
    "id": 11,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/8514026a.webp",
    "title": "suits",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 494
  },

  {
    "id": 12,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12713279a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 350
  },

  {
    "id": 13,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12713291a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 350
  },

  {
    "id": 14,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12442602b.jpg",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 450
  },

  {
    "id": 15,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11676943a.webdress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 2481
  },

  {
    "id": 16,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11878450a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 450
  },
  {
    "id": 17,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12713291a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 350
  },
  {
    "id": 18,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11599461a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 566
  },

  {
    "id": 19,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12631719a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1091
  },

  {
    "id": 20,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12631712a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1093
  },

  {
    "id": 21,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12713332a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 350
  },
  {
    "id": 22,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11879343a.webp",
    "title": "frock",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 799
  },
  {
    "id": 23,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11676508a.webp",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 2621
  },

  {
    "id": 24,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12689160a.webp",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1104
  },

  {
    "id": 25,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12682994a.webp",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1208
  },

  {
    "id": 26,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11747822b.jpg",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 2659
  },

  {
    "id": 27,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11676943a.webp",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 2481
  },

  {
    "id": 28,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12126908a.webp",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 2099
  },

  {
    "id": 29,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/2895413a.webp",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1239
  },

  {
    "id": 30,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11465049b.jpg",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 1532
  },

  {
    "id": 31,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11747822b.jpg",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 2483
  },

  {
    "id": 32,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/11685046a.webp",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 999
  },
  {
    "id": 33,
    "image": "https://cdn.fcglcdn.com/brainbees/images/products/300x364/12713266a.webp",
    "title": "dress",
    "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit.",
    "price": 450
  }
]

// fetuitsdata.json")
//     .then((res) => {
//         return res.json();
//     })
//     .then((data) => {
//         appendData(data)
//     })
//     .catch((err) => {
//         return err
//     })

let appendData = (mydata) => {
  // console.log(data)
  let container = document.getElementById("product-container");
  container.innerHTML = "";
  mydata.forEach((el) => {
    let card = document.createElement("div");
    card.setAttribute("id", "card");

    let img = document.createElement("img");
    img.src = el.image;

    let name = document.createElement("h3");
    name.textContent = el.title;

    let des = document.createElement("p");
    des.textContent = el.description;

    let price = document.createElement("h5");
    price.textContent = "â‚¹ " + el.price + ".00";

    let btn = document.createElement("button");
    btn.textContent = "Add to Cart";
    btn.setAttribute("id", "btn");
    btn.addEventListener("click", () => {
      Addtocart(el);
      console.log("button working perfectly")
    })

    card.append(img, name, des, price, btn)
    container.append(card)

  })
}
appendData(mydata)


function Addtocart(el) {
  let arr = JSON.parse(localStorage.getItem('add-to-cart')) || [];
  if (arr === null) { arr = []; }

  let present = false;
  for (i = 0; i < arr.length; i++) {
    if (arr[i].id === el.id) {
      present = true;
      break;
    }

  }
  if (present == true) {
    swal("Already in Cart", "Product Already Present in Cart!", "info");

  } else {
    arr.push(el)
    localStorage.setItem('add-to-cart', JSON.stringify(arr))
    swal("Success", "Your Product Added to Cart!", "success");


  }

}


let sorted = document.querySelector("#sort");

sorted.addEventListener("change", function (event) {

  let val = document.querySelector("#sort").value;
  console.log(val)

  if (val == "LTH") {
    let data1 = mydata.sort(function (a, b) {
      return a.price - b.price;

    })
    appendData(data1)

  } else if (val == "HTL") {
    let sorteddata = mydata.sort(function (a, b) {
      return b.price - a.price;

    })
    appendData(sorteddata)

  } else {
    appendData(mydata);
  }
})

filter.addEventListener("change", () => {
  let filtered = mydata.filter((element) => {  
    let vl = document.getElementById('#filter').value
    console.log(vl);
    if (element.title === filter.value) {
      return true;
    } else {
      return false;
    }
  })
  
  appendData(filtered)
})